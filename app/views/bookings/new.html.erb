<table class="animate-fade-in bg-cyan-50/50 rounded-b">
<caption class="text-5xl font-display text-green-800 bg-cyan-50/50 rounded-t pt-1 pb-2">Booking form</caption>
  <thead class="bg-slate-200">
    <tr class="">
      <th class="border border-slate-300 font-display text-green-800 text-xl py-2 px-4"><span class="text-left">#️⃣&nbsp&nbsp</span>Flight ID</th>
      <th class="border border-slate-300 font-display text-green-800 text-xl py-2 px-4"><span class="text-3xl">🗺️&nbsp&nbsp</span>Route</th>
      <th class="border border-slate-300 font-display text-green-800 text-xl py-2 px-4">🛫&nbsp&nbsp&nbsp&nbspDeparture Date & Time</th>
      <th class="border border-slate-300 font-display text-green-800 text-xl py-2 px-4">🛬&nbsp&nbsp&nbsp&nbspArrival Date & Time</th>
      <th class="border border-slate-300 font-display text-green-800 text-xl py-2 px-4">⏱️&nbsp&nbspFlight Duration</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td class="border-r border-slate-300 pl-2 pr-6 py-2"><%= @flight.id %></td>
      <td class="border-r border-slate-300 pl-2 pr-6 py-2"><%= @flight.arrival_airport_name + ' ➡️ ' + @flight.departure_airport_name %></td>
      <td class="border-r border-slate-300 pl-2 pr-6 py-2"><%= @flight.departure_time.strftime('%a %dth %b %Y, %R%P') %></td>
      <td class="border-r border-slate-300 pl-2 pr-6 py-2"><%= @flight.arrival_time.strftime('%a %dth %b %Y, %R%P') %></td>
      <td class="pl-2 pr-6 py-2"><%= Time.at(@flight.flight_duration_secs).utc.strftime("%Hhrs%Mmins")  %></td>
    </tr>
  </tbody>
</table>
    
<%= form_with model: @booking, class: "animate-fade-in pt-2 pb-3 px-4 rounded-b bg-cyan-50/50" do |f| %>
  <%= f.hidden_field :flight_id, value: @flight.id %>
  <div data-controller="passenger">
    <ol data-passenger-target="form" >
      <%= f.fields_for :passengers do |p| %>
        <li class="my-2 opacity-80">
          <span class="opacity-10">Passenger no.<%= p.index + 1 %> - </span>
          <%= p.label :name, class: "opacity-20" %>
          <%= p.text_field :name, class: "rounded bg-slate-100  opacity-20" %>
          <%= p.label :email %>
          <%= p.text_field :email, class: "rounded bg-slate-100" %>
        </li>
      <% end %>
    </ol>
    <div class="flex justify-between">
      <div class="flex items-center">
        <button type="button" data-action="passenger#add" class="text-2xl mr-2">➕</button>
        <label class="opacity-20">Passenger</label>
        <button type="button" data-action="passenger#remove" class="text-2xl ml-2">➖</button>
      </div>
      <%= f.submit class: "m-auto btn-primary-md" %>
    </div>
  </div>
<% end %>
